$(document).ready(function(){$("#datepicker").datepicker()}),$(document).ready(function(){function e(e){fullpage_api.moveTo(e)}$("#fullpage").fullpage({licenseKey:"gplv3-license",autoScrolling:!0,navigation:!0,controlArrows:!1,setAllowScrolling:!0}),$.fn.fullpage.setAllowScrolling(!0),$("goToSection1").click(function(){e(1),fullpage_api.getScrollY()}),$("goToSection2").click(function(){e(2)}),$("goToSection3").click(function(){e(3)}),$("goToSection4").click(function(){e(4)}),$("#goToSlide1").click(function(){fullpage_api.moveTo(1,0)}),$("#goToSlide2").click(function(){fullpage_api.moveTo(1,1)}),$("#goToSlide3").click(function(){fullpage_api.moveTo(1,2)}),$("#goToSlide4").click(function(){fullpage_api.moveTo(1,3)}),modalHandlers()});const minifigs=[{id:1,species:"clone",name:"212th Airborne Trooper",date:"2014",sets:"Utapau Troopers - Episode 3",price:30,no:"sw0523",popularity:6,images:["./images/212th.webp"]},{id:2,species:"jedi/sith",name:"Ahsoka Tano",date:"2020 - 2022",sets:["Armoured Assault Tank (AAT)","Duel on Mandalore"],price:15,no:"sw1096",popularity:7,images:["./images/ahsoka.webp"]},{id:3,species:"other",name:"Queen Amidala",date:"2012",sets:"Gungan Sub - Episode 1",price:300,no:"sw0387",popularity:10,images:["./images/amidala.webp"]},{id:4,species:"jedi/sith",name:"Anakin Skywalker",date:"2012",sets:"Palpatine's Arrest - Episode 3",price:90,no:"sw0419",popularity:10,images:["./images/anakin.webp"]},{id:5,species:"mandalorian",name:"Boba Fett",date:"2017",sets:"Desert Skiff Escape",price:70,no:"sw0822",popularity:8,images:["./images/boba.webp"]},{id:6,species:"mandalorian",name:"Bo-Katan Kryze",date:"2021 - 2022",sets:["Bo-Katan Kryze paper bag - The Clone Wars","Mandalorian Starfighter - The Clone Wars"],price:20,no:"sw1163",popularity:4,images:["./images/bokatan.webp"]},{id:7,species:"other",name:"Chewbacca",date:"2000 - 2023",sets:["Millennium Falcon","Imperial AT-ST","Chewie Minifigure Pack"],price:10,no:"sw0011",popularity:2,images:["./images/chewbacca.webp"]},{id:8,species:"droid",name:"Chrome C-3PO",date:"2007",sets:"30th Anniversary Edition",price:2e3,no:"sw0158",popularity:10,images:["./images/c3po.webp"]},{id:9,species:"jedi/sith",name:"Yoda",date:"2013 - 2015",sets:"Watch Set",price:15,no:"sw0685",popularity:4,images:["./images/yoda.webp"]},{id:10,species:"clone",name:"Commander Cody",date:"2008",sets:"Republic Attack Gunship - The Clone Wars",price:80,no:"sw0196",popularity:8,images:["./images/cody.webp"]},{id:11,species:"jedi/sith",name:"Darth Vader",date:"2014",sets:"Imperial Star Destroyer",price:40,no:"sw0586",popularity:6,images:"./images/darthvader.webp"},{id:12,species:"clone",name:"Corporal Echo",date:"2021",sets:"The Bad Batch Attack Shuttle - The Bad Batch",price:30,no:"sw1151",popularity:5,images:"./images/echo.webp"},{id:13,species:["jedi/sith","other"],name:"Hoth Princess Leia",date:"2018",sets:["Hoth Medical Chamber","Betrayal at Cloud City"],price:30,no:"sw0958",popularity:6,images:"./images/leia.webp"},{id:14,species:"other",name:"Jar Jar Binks",date:"2011 - 2015",sets:["Gungan Sub - Episode 1","The Battle of Naboo - Episode 1","AAt - Episode 1"],price:10,no:"sw0301",popularity:2,images:"./images/jarjar.webp"},{id:15,species:"jedi/sith",name:"Mace Windu",date:"2012",sets:"Palpatine's Arrest - Episode 3",price:35,no:"sw0417",popularity:5,images:"./images/windu.webp"},{id:16,species:"mandalorian",name:"The Mandalorian",date:"2021 - 2022",sets:["Boba Fettâ€™s Starship - The Mandalorian","Imperial Light Cruiser - The Mandalorian","Trouble on Tatooine - The Mandalorian"],price:10,no:"sw1135",popularity:4,images:"./images/mando.webp"},{id:17,species:"jedi/sith",name:"Darth Maul",date:"2021-2022",sets:["Foil Pack","Duel on Mandalore - The Clone Wars"],price:10,no:"sw1155",popularity:6,images:"./images/maul.webp"},{id:18,species:"other",name:"Padme Naberrie",date:"2019",sets:"Anakin's Podracer - Episode 1",price:20,no:"sw1023",popularity:7,images:"./images/padme.webp"},{id:19,species:"droid",name:"R2-D2, Astromech Droid",date:"2009",sets:"Anakin's Y-Wing Starfighter - The Clone Wars",price:20,no:"sw0255",popularity:4,images:"./images/r2d2.webp"},{id:20,species:"clone",name:"Captain Rex",date:"2013",sets:"BARC Speeder with Sidecar - The Clone Wars",price:300,no:"sw0450",popularity:10,images:"./images/rex.webp"},{id:21,species:"other",name:"Royal Guard",date:"2006 - 2009",sets:["Death Star - UCS","Imperial Star Destroyer"],price:15,no:"sw0040b",popularity:5,images:"./images/royalguard.webp"},{id:22,species:"other",name:"Imperial Tie Fighter Pilot",date:"2015",sets:"Tie Fighter - UCS",price:90,no:"sw0632",popularity:9,images:"./images/tiefighter.webp"},{id:23,species:"clone",name:"Commander Wolffe",date:"2011",sets:"Republic Frigate - The Clone Wars",price:210,no:"sw0330",popularity:9,images:"./images/wolffe.webp"},{id:24,species:"jedi/sith",name:"Young Anakin Skywalker",date:"2007 - 2009",sets:" Naboo N-1 Starfighter and Vulture Droid - Episode 1",price:10,no:"sw0159",popularity:3,images:"./images/younganakin.webp"}];function populateMinifigs(i){var a=document.getElementById("products");a.innerHTML="";for(let e=0;e<i.length;e++){var s=i[e];a.innerHTML+=`
        <div class="card">
            <div class="card-details"><img class="card-img" src="${s.images}"></div>
            <button id="two openModal" class="button card-button" data-id="${s.id}">
                <p class="text-title">${s.name}</p>
            </button>
        </div>
        `,console.log("inner html working")}}populateMinifigs(minifigs);const lovedMinifigs={};function populateModal(i){var e=$("#modalInner");e.empty();const a=minifigs.find(e=>e.id===i);a?(e.append(`
    <div class="modal-details">
        <div id="modal-${a.id}" class="modal">
            <div class="modal-content">
                <div class="modal-img-details"><img class="modal-img" src="${a.images}"></div>
                <div class="modal-card-text">
                    <h4>${a.name}</h4>
                    <p>${a.no}</p>
                    <p>Release year: ${a.date}</p>
                    <p>Sets found in: <br>${a.sets}</p>
                    <p>Avg price: $${a.price}</p>
                    <div class="modal-buttons">
                        <button class="find-sellers">Find sellers</button>
                        <button id="love-${i}" class="find-sellers love-button">
                            <svg height="32" width="32" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="empty">
                                <path d="M0 0H24V24H0z" fill="none"></path>
                                <path d="M16.5 3C19.538 3 22 5.5 22 9c0 7-7.5 11-10 12.5C9.5 20 2 16 2 9c0-3.5 2.5-6 5.5-6C9.36 3 11 4 12 5c1-1 2.64-2 4.5-2zm-3.566 15.604c.881-.556 1.676-1.109 2.42-1.701C18.335 14.533 20 11.943 20 9c0-2.36-1.537-4-3.5-4-1.076 0-2.24.57-3.086 1.414L12 7.828l-1.414-1.414C9.74 5.57 8.576 5 7.5 5 5.56 5 4 6.656 4 9c0 2.944 1.666 5.533 4.645 7.903.745.592 1.54 1.145 2.421 1.7.299.189.595.37.934.572.339-.202.635-.383.934-.571z"></path>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32" class="filled">
                                <path fill="none" d="M0 0H24V24H0z"></path>
                                <path d="M16.5 3C19.538 3 22 5.5 22 9c0 7-7.5 11-10 12.5C9.5 20 2 16 2 9c0-3.5 2.5-6 5.5-6C9.36 3 11 4 12 5c1-1 2.64-2 4.5-2z"></path>
                            </svg>
                            I love this
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <button id="closeModal-${a.id}" class="closeModal"><i class="fa-solid fa-xmark"></i></button>
    </div>
    `),document.getElementById("love-"+i).addEventListener("click",function(){var e=i.toString();lovedMinifigs[e]?delete lovedMinifigs[e]:lovedMinifigs[e]=a,console.log("Loved minifigs:",lovedMinifigs),letsSee()})):console.error("Minifig not found for ID:",i)}function letsSee(){var e,i=document.getElementById("lovedContainer");i.innerHTML="";for(const a in lovedMinifigs)lovedMinifigs.hasOwnProperty(a)&&(e=lovedMinifigs[a],i.innerHTML+=`
                <div class="example-card">
                <div class="card-details"><img class="card-img" src="${e.images}"></div>
                </div>
            `)}function modalHandlers(){$(".button").click(function(e){console.log("CLICKED");var i=$(this).data("id"),a=(console.log(i),$(this).attr("id"));$("#modal-container").removeAttr("class").addClass(a),$("body").addClass("modal-active"),populateModal(i)}),$("#modal-container").click(function(){$(this).addClass("out"),$("body").removeClass("modal-active")})}letsSee(lovedMinifigs);const priceMin=document.getElementById("priceMin"),priceMax=document.getElementById("priceMax"),sortPop=document.getElementById("sortPop"),sortAlpha=document.getElementById("sortAlpha");function sortMinPrice(e){return e.sort((e,i)=>{return parseFloat(e.price)-parseFloat(i.price)})}function sortMaxPrice(e){return e.sort((e,i)=>{e=parseFloat(e.price);return parseFloat(i.price)-e})}function sortAlphabetical(e){return e.sort((e,i)=>{e=e.name.toLowerCase(),i=i.name.toLowerCase();return e.localeCompare(i)})}function sortPopular(e){return e.sort((e,i)=>{e=parseFloat(e.popularity);return parseFloat(i.popularity)-e})}priceMin.addEventListener("click",function(){populateMinifigs(sortMinPrice(minifigs)),console.log("price sorting working"),modalHandlers()}),priceMax.addEventListener("click",function(){populateMinifigs(sortMaxPrice(minifigs)),modalHandlers()}),sortAlpha.addEventListener("click",function(){populateMinifigs(sortAlphabetical(minifigs)),modalHandlers()}),sortPop.addEventListener("click",function(){populateMinifigs(sortPopular(minifigs)),modalHandlers()});const sithJedi=document.getElementById("sithJedi"),clones=document.getElementById("clones"),mandalorians=document.getElementById("mandalorians"),droids=document.getElementById("droids");document.getElementById("sithJedi").addEventListener("click",function(){populateMinifigs(minifigs.filter(e=>"jedi/sith"===e.species)),modalHandlers()}),document.getElementById("clones").addEventListener("click",function(){populateMinifigs(minifigs.filter(e=>"clone"===e.species)),modalHandlers()}),document.getElementById("mandalorians").addEventListener("click",function(){populateMinifigs(minifigs.filter(e=>"mandalorian"===e.species)),modalHandlers()}),document.getElementById("droids").addEventListener("click",function(){populateMinifigs(minifigs.filter(e=>"droid"===e.species)),modalHandlers()});